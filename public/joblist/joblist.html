		<div class="container-fluid" ng-controller="JoblistCtrl">
			<div class="col-xs-4" id="left">
				<div class="panel" id="left-top">
					Current View
					<select ng-model="data.currentView" ng-options="user for user in allUsers" ng-change="viewChanged()"></select>
				</div>
				<div  id="left-bottom">
					<div class="panel">
						<h3 class="panel-heading">Incoming</h3>
						<table class="table table-condensed mytable" ng-controller="SortableTableCtrl">
							<thead>
								<tr>
									<th><a href="" ng-click="data.predicate='orderNo'">Order</a></th>
									<th><a href="" ng-click="data.predicate='custName'">Customer</a></th>
									<th><a href="" ng-click="data.predicate='status'">Status</a></th>
									<th><a href="" ng-click="data.predicate='assignedTo'">Owner</a></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="order in incomingOrders | orderBy:customSorter" ng-class="orderClass(order)" ng-click="clickOrder(order)">
									<td>{{order.orderNo}}</td>
									<td>{{order.custName}}</td>
									<td>{{order.status}}</td>
									<td>{{order.assignedTo}}</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div>
						<h3 class="panel-heading">Active</h3>
						<table class="table table-condensed mytable" ng-controller="SortableTableCtrl">
							<thead>
								<tr>
									<th><a href="" ng-click="data.predicate='orderNo'">Order</a></th>
									<th><a href="" ng-click="data.predicate='custName'">Customer</a></th>
									<th><a href="" ng-click="data.predicate='status'">Status</a></th>
									<th><a href="" ng-click="data.predicate='assignedTo'">Owner</a></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="order in activeOrders | orderBy:customSorter" ng-class="orderClass(order)" ng-click="clickOrder(order)">
									<td>{{order.orderNo}}</td>
									<td>{{order.custName}}</td>
									<td>{{order.status}}</td>
									<td>{{order.assignedTo}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-xs-8" ng-if="data.currentOrderNo" ng-controller="OrderCtrl" id="right">
				<div class="well mywell" id="right-top">
					<span><h3>{{data.currentOrderNo}}	{{data.currentOrderCopy.custName}} ({{data.currentOrderCopy.custNo}})</h3></span>
					<span>
					{{data.currentOrderCopy.phone1 | tel}}
					{{data.currentOrderCopy.phone2 | tel}}
					</span>
					<span>
						<a class="btn pull-right" ng-href="/cust/{{data.currentOrderCopy.custNo}}">Customer Info</a>
					</span>
				</div>
				<div id="right-middle" ng-class="data.unchanged ? '' : 'yellow'">
					<div class="well mywell2">
						<table class="table table-condensed mytable">
							<thead>
								<tr>
									<th>SKU</th>
									<th>Description</th>
									<th>Qty</th>
									<th>Price</th>
									<th>Ext. Price</th>
									<th></th>
								</tr>
							</thead>
							<tbody ng-controller="editableParentCtrl">
								<tr ng-repeat="item in data.currentOrderCopy.bill track by $index" ng-controller="editableCtrl">
									<td>
										<div ng-if="!editing($last)">{{item.sku}}</div>
										<input ng-if="editing($last)" ng-model="item.sku" style="width: 100%">
									</td>
									<td>
										<div ng-if="!editing($last)">{{item.desc}}</div>
										<input ng-if="editing($last)" ng-model="item.desc" style="width: 100%"
							typeahead="d as i.desc for i in inventory | filter:$viewValue | limitTo:10"
							typeahead-min-length='1'
							typeahead-on-select="onSelectInventory($item, item)"
							class="form-control" focus>
									</td>
									<td style="width: 10%">
										<div ng-if="!editing($last)">{{item.qty}}</div>
										<input ng-if="editing($last)" ng-model="item.qty" style="width: 50px">
									</td>
									<td style="width: 10%">
										<div ng-if="!editing($last)">{{item.price | currency}}</div>
										<input ng-if="editing($last)" ng-model="item.price" style="width: 50px">
									</td>
									<td>{{item.qty * item.price | currency}}</td>
									<td>
										<button ng-click="clickEdit()">Edit</button>
									</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td></td>
									<td>Subtotal</td>
									<td>{{subtotal() | currency}}</td>
									<td>
										<button ng-click="clickAdd(data.currentOrderCopy.bill, {sku:'', desc:'', qty:'', price:''})">Add</button>
									</td>
								</tr>
								<tr ng-if="data.showDetailsCheckbox">
									<td></td>
									<td></td>
									<td></td>
									<td>Tax</td>
									<td>{{tax() | currency}}</td>
									<td></td>
								</tr>
							</tbody>
							<tbody ng-controller="editableDeetParentCtrl">
								<tr ng-repeat="tender in data.currentOrderCopy.tenders track by $index" ng-if="data.showDetailsCheckbox" ng-controller="editableCtrl">
									<td>
										<a href="#" tooltip="{{tender.date | date:'h:mm a'}}" tooltip-placement="right">
											{{tender.date | date}}
										</a>
									</td>
									<td>
										<div ng-if="!editing($last)">{{tender.method}}</div>
										<select ng-if="editing($last)" ng-model="tender.method" ng-options="m for m in paymentMethods">
										</select>
									</td>
									<td>
										<div ng-if="!editing($last)">{{tender.note}}</div>
										<input ng-if="editing($last)" ng-model="tender.note" style="width: 50px">
									</td>
									<td></td>
									<td>
										<div ng-if="!editing($last)">{{-tender.amount | currency}}</div>
										<input ng-if="editing($last)" ng-model="tender.amount" style="width: 50px" focus>
									</td>
									<td>
										<button ng-click="clickEdit()">Edit</button>
									</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td>Deets <input type="checkbox" ng-model="data.showDetailsCheckbox"></td>
									<td>Total</td>
									<td>{{subtotal() + tax() - totalTender() | currency}}</td>
									<td>
										<button ng-click="clickAdd( data.currentOrderCopy.tenders, {date: newDate(), method:'', note:'', amount:subtotal() + tax() - totalTender()} )">$</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="well mywell2">
						<table class="table table-condensed mytable" ng-controller="editableParentCtrl">
							<thead>
								<tr>
									<th>Date</th>
									<th>By</th>
									<th>Note</th>
									<th><input type="checkbox" ng-model="data.showStatusChangesCheckbox"></th>
								</tr>
							</thead>
							<tbody>
								<tr  ng-repeat="note in data.currentOrderCopy.notes track by $index" ng-show="showStatusChanges(note.note)" ng-controller="editableCtrl">
									<td>
										<a href="#" tooltip="{{note.date | date:'h:mm a'}}" tooltip-placement="right">
											{{note.date | date}}
										</a>
									</td>
									<td>{{note.by}}</td>
									<td>
										<div ng-if="!editing($last)" ng-bind-html="note.note | nl2br"></div>
										<textarea ng-if="editing($last)" ng-model="note.note" style="resize: none; width: 100%" focus></textarea>
									</td>
									<td>
										<button ng-click="clickEdit()">Edit</button>
									</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td></td>
									<td>
										<button ng-click="clickAdd(data.currentOrderCopy.notes, {date: newDate(), by:currentUser, note:''})">Add</button>
									</td>
								</tr>
							</tbody>
						</table>
						<table class="table table-condensed mytable" ng-controller="editableParentCtrl">
							<thead>
								<tr>
									<th>Internal Notes</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-controller="editableCtrl">
									<td>
										<div ng-if="!editing($last)" ng-bind-html="data.currentOrderCopy.internalNote | nl2br" class="breakall">
										</div>
										<textarea ng-if="editing($last)" ng-model="data.currentOrderCopy.internalNote" style="resize: none; width: 100%" focus></textarea>
									</td>
									<td>
										<button ng-click="clickEdit()">Edit</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="well mywell" id="right-bottom">
						Status:
						<select ng-model="data.currentOrderCopy.status" ng-options="status for status in statuses" ng-change="changeStatus()"></select>
						Assigned To:
						<select ng-model="data.currentOrderCopy.assignedTo" ng-options="user for user in allUsers" ng-change="changeAssignedTo()"></select>
						 Assigned By: {{data.currentOrderCopy.assignedBy}}
					<span class="pull-right yellow" ng-if="!data.unchanged">
						<button ng-click="clickOk()" ng-disabled="data.unchanged">OK</button>
						<button ng-click="clickCancel()" ng-disabled="data.unchanged">Cancel</button>
					</span>
				</div>
			</div>
		</div>
