		<div class="container-fluid" id="spa" ng-controller="JoblistCtrl">
			<div class="col-xs-4">
				<div class="panel">
					Current View
					<select ng-model="data.currentView" ng-options="user for user in allUsers" ng-change="viewChanged()"></select>
				</div>
				<div class="panel">
					<h3 class="panel-heading">Incoming</h3>
					<table class="table table-condensed" ng-controller="SortableTableCtrl">
						<thead>
							<tr>
								<th><a href="" ng-click="predicate='orderNo'">Order</a></th>
								<th><a href="" ng-click="predicate='custName'">Customer</a></th>
								<th><a href="" ng-click="predicate='status'">Status</a></th>
								<th><a href="" ng-click="predicate='assignedTo'">Owner</a></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="order in incomingOrders | orderBy:customSorter" ng-class="order.orderNo === data.currentOrderNo ? 'danger' : ''" ng-click="clickOrder(order)">
								<td>{{order.orderNo}}</td>
								<td>{{order.custName}}</td>
								<td>{{order.status}}</td>
								<td>{{order.assignedTo}}</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div>
					<h3 class="panel-heading">Active</h3>
					<table class="table table-condensed" ng-controller="SortableTableCtrl">
						<thead>
							<tr>
								<th><a href="" ng-click="predicate='orderNo'">Order</a></th>
								<th><a href="" ng-click="predicate='custName'">Customer</a></th>
								<th><a href="" ng-click="predicate='status'">Status</a></th>
								<th><a href="" ng-click="predicate='assignedTo'">Owner</a></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="order in activeOrders | orderBy:customSorter" ng-class="order.orderNo === data.currentOrderNo ? 'success' : ''" ng-click="clickOrder(order)">
								<td>{{order.orderNo}}</td>
								<td>{{order.custName}}</td>
								<td>{{order.status}}</td>
								<td>{{order.assignedTo}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="col-xs-8" ng-if="data.currentOrderNo" ng-controller="OrderCtrl">
				<div class="well">
					<h3>{{data.currentOrderNo}}	{{data.currentOrder.custName}} ({{data.currentOrder.custNo}})</h3>
				</div>
				<div class="well">
					<table class="table table-condensed">
						<thead>
							<tr>
								<th>SKU</th>
								<th>Description</th>
								<th>Qty</th>
								<th>Price</th>
								<th>Ext. Price</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in data.currentOrderCopy.bill track by $index">
								<td>
									<div ng-if="!item.edit">{{item.sku}}</div>
									<input ng-if="item.edit" ng-model="item.sku" style="width: 100%">
								</td>
								<td>
									<div ng-if="!item.edit">{{item.desc}}</div>
									<input ng-if="item.edit" ng-model="item.desc" style="width: 100%"
						typeahead="d as i.desc for i in inventory | filter:$viewValue | limitTo:10"
						typeahead-min-length='1'
						typeahead-on-select="onSelectInventory($item, item)"
						class="form-control">
								</td>
								<td>
									<div ng-if="!item.edit">{{item.qty}}</div>
									<input ng-if="item.edit" ng-model="item.qty">
								</td>
								<td>
									<div ng-if="!item.edit">{{item.price | currency}}</div>
									<input ng-if="item.edit" ng-model="item.price">
								</td>
								<td>{{item.qty * item.price | currency}}</td>
								<td>
									<button ng-click="clickEditItem( item )">Edit</button>
								</td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td>
									<button ng-click="clickAddItem()">Add</button>
								</td>
							</tr>
							<tr ng-if="showDetailsCheckbox">
								<td></td>
								<td></td>
								<td></td>
								<td>Subtotal</td>
								<td>{{subtotal() | currency}}</td>
								<td></td>
							</tr>
							<tr ng-if="showDetailsCheckbox">
								<td></td>
								<td></td>
								<td></td>
								<td>Tax</td>
								<td>{{tax() | currency}}</td>
								<td></td>
							</tr>
							<tr ng-repeat="tender in data.currentOrderCopy.tenders track by $index" ng-if="showDetailsCheckbox || tender.visible">
								<td>{{tender.date | date}}</td>
								<td>
									<div ng-if="!tender.edit">{{tender.method}}</div>
									<select ng-if="tender.edit" ng-model="tender.method" ng-options="m for m in paymentMethods">
									</select>
								</td>
								<td>
									<div ng-if="!tender.edit">{{tender.note}}</div>
									<input ng-if="tender.edit" ng-model="tender.note">
								</td>
								<td></td>
								<td>
									<div ng-if="!tender.edit">{{-tender.amount | currency}}</div>
									<input ng-if="tender.edit" ng-model="tender.amount">
								</td>
								<td></td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td>Deets <input type="checkbox" ng-model="showDetailsCheckbox"></td>
								<td>Total</td>
								<td>{{subtotal() + tax() - totalTender() | currency}}</td>
								<td>
									<button ng-click="clickTender()">$</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="well">
					<table class="table table-condensed">
						<thead>
							<tr>
								<th>Date</th>
								<th>By</th>
								<th>Note</th>
								<th><input type="checkbox" ng-model="data.showStatusChangesCheckbox"></th>
							</tr>
						</thead>
						<tbody>
							<tr  ng-repeat="note in data.currentOrderCopy.notes track by $index" ng-show="showStatusChanges(note.note)">
								<td>{{note.date | date}}</td>
								<td>{{note.by}}</td>
								<td>
									<div ng-if="!note.edit" ng-bind-html="note.note | nl2br"></div>
									<textarea ng-if="note.edit" ng-model="note.note" style="resize: none; width: 100%"></textarea>
								</td>
								<td>
									<button ng-click="clickEditNote( note )">Edit</button>
								</td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td>
									<button ng-click="clickAddNote()">Add</button>
								</td>
							</tr>
						</tbody>
					</table>
					<table class="table table-condensed">
						<thead>
							<tr>
								<th>Internal Notes</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<div ng-if="!data.currentOrderCopy.internalNoteEdit" ng-bind-html="data.currentOrderCopy.internalNote | nl2br"></div>
									<textarea ng-if="data.currentOrderCopy.internalNoteEdit" ng-model="data.currentOrderCopy.internalNote" style="resize: none; width: 100%"></textarea>
								</td>
								<td>
									<button ng-click="clickEditInternalNote( )">Edit</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="well" id="misc">
						Status:
						<select ng-model="data.currentOrderCopy.status" ng-options="status for status in statuses" ng-change="changeStatus()"></select>
						Assigned To:
						<select ng-model="data.currentOrderCopy.assignedTo" ng-options="user for user in allUsers" ng-change="changeAssignedTo()"></select>
						<span>Assigned By: {{data.currentOrderCopy.assignedBy}}</span>
					<div class="pull-right" id="buttons" ng-if="!unchanged">
						<button ng-click="clickOk()" ng-disabled="unchanged">OK</button>
						<button ng-click="clickCancel()" ng-disabled="unchanged">Cancel</button>
					</div>
				</div>
			</div>
		</div>
